import{A as t,C as i,Z as n,P as s}from"./vendor-uc.micro-CRGj88R_.js";function h(t){return Array.prototype.slice.call(arguments,1).forEach(function(i){i&&Object.keys(i).forEach(function(n){t[n]=i[n]})}),t}function o(t){return Object.prototype.toString.call(t)}function r(t){return"[object Function]"===o(t)}function u(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const e={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},c={"http:":{validate:function(t,i,n){const s=t.slice(i);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(s)?s.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,i,n){const s=t.slice(i);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(s)?i>=3&&":"===t[i-3]||i>=3&&"/"===t[i-3]?0:s.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,i,n){const s=t.slice(i);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(s)?s.match(n.re.mailto)[0].length:0}}},f="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function l(h){const e=h.re=function(h){const o={};return h=h||{},o.src_Any=t.source,o.src_Cc=i.source,o.src_Z=n.source,o.src_P=s.source,o.src_ZPCc=[o.src_Z,o.src_P,o.src_Cc].join("|"),o.src_ZCc=[o.src_Z,o.src_Cc].join("|"),o.src_pseudo_letter="(?:(?![><｜]|"+o.src_ZPCc+")"+o.src_Any+")",o.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",o.src_auth="(?:(?:(?!"+o.src_ZCc+"|[@/\\[\\]()]).)+@)?",o.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",o.src_host_terminator="(?=$|[><｜]|"+o.src_ZPCc+")(?!"+(h["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+o.src_ZPCc+"))",o.src_path="(?:[/?#](?:(?!"+o.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+o.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+o.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+o.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+o.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+o.src_ZCc+"|[']).)+\\'|\\'(?="+o.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+o.src_ZCc+"|[.]|$)|"+(h["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+o.src_ZCc+"|$)|;(?!"+o.src_ZCc+"|$)|\\!+(?!"+o.src_ZCc+"|[!]|$)|\\?(?!"+o.src_ZCc+"|[?]|$))+|\\/)?",o.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',o.src_xn="xn--[a-z0-9\\-]{1,59}",o.src_domain_root="(?:"+o.src_xn+"|"+o.src_pseudo_letter+"{1,63})",o.src_domain="(?:"+o.src_xn+"|(?:"+o.src_pseudo_letter+")|(?:"+o.src_pseudo_letter+"(?:-|"+o.src_pseudo_letter+"){0,61}"+o.src_pseudo_letter+"))",o.src_host="(?:(?:(?:(?:"+o.src_domain+")\\.)*"+o.src_domain+"))",o.tpl_host_fuzzy="(?:"+o.src_ip4+"|(?:(?:(?:"+o.src_domain+")\\.)+(?:%TLDS%)))",o.tpl_host_no_ip_fuzzy="(?:(?:(?:"+o.src_domain+")\\.)+(?:%TLDS%))",o.src_host_strict=o.src_host+o.src_host_terminator,o.tpl_host_fuzzy_strict=o.tpl_host_fuzzy+o.src_host_terminator,o.src_host_port_strict=o.src_host+o.src_port+o.src_host_terminator,o.tpl_host_port_fuzzy_strict=o.tpl_host_fuzzy+o.src_port+o.src_host_terminator,o.tpl_host_port_no_ip_fuzzy_strict=o.tpl_host_no_ip_fuzzy+o.src_port+o.src_host_terminator,o.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+o.src_ZPCc+"|>|$))",o.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+o.src_ZCc+")("+o.src_email_name+"@"+o.tpl_host_fuzzy_strict+")",o.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+o.src_ZPCc+"))((?![$+<=>^`|｜])"+o.tpl_host_port_fuzzy_strict+o.src_path+")",o.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+o.src_ZPCc+"))((?![$+<=>^`|｜])"+o.tpl_host_port_no_ip_fuzzy_strict+o.src_path+")",o}(h.t),c=h.i.slice();function f(t){return t.replace("%TLDS%",e.src_tlds)}h.onCompile(),h.h||c.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),c.push(e.src_xn),e.src_tlds=c.join("|"),e.email_fuzzy=RegExp(f(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(f(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(f(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(f(e.tpl_host_fuzzy_test),"i");const l=[];function a(t,i){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+i)}h.o={},Object.keys(h.u).forEach(function(t){const i=h.u[t];if(null===i)return;const n={validate:null,link:null};if(h.o[t]=n,"[object Object]"===o(i))return"[object RegExp]"!==o(i.validate)?r(i.validate)?n.validate=i.validate:a(t,i):n.validate=function(t){return function(i,n){const s=i.slice(n);return t.test(s)?s.match(t)[0].length:0}}(i.validate),void(r(i.normalize)?n.normalize=i.normalize:i.normalize?a(t,i):n.normalize=function(t,i){i.normalize(t)});"[object String]"!==o(i)?a(t,i):l.push(t)}),l.forEach(function(t){h.o[h.u[t]]&&(h.o[t].validate=h.o[h.u[t]].validate,h.o[t].normalize=h.o[h.u[t]].normalize)}),h.o[""]={validate:null,normalize:function(t,i){i.normalize(t)}};const m=Object.keys(h.o).filter(function(t){return t.length>0&&h.o[t]}).map(u).join("|");h.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+m+")","i"),h.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+m+")","ig"),h.re.schema_at_start=RegExp("^"+h.re.schema_search.source,"i"),h.re.pretest=RegExp("("+h.re.schema_test.source+")|("+h.re.host_fuzzy_test.source+")|@","i"),function(t){t.l=-1,t.m=""}(h)}function a(t,i){const n=t.l,s=t.p,h=t.m.slice(n,s);this.schema=t.j.toLowerCase(),this.index=n+i,this.lastIndex=s+i,this.raw=h,this.text=h,this.url=h}function m(t,i){const n=new a(t,i);return t.o[n.schema].normalize(n,t),n}function g(t,i){if(!(this instanceof g))return new g(t,i);var n;i||(n=t,Object.keys(n||{}).reduce(function(t,i){return t||e.hasOwnProperty(i)},!1)&&(i=t,t={})),this.t=h({},e,i),this.l=-1,this.p=-1,this.j="",this.m="",this.u=h({},c,t),this.o={},this.i=f,this.h=!1,this.re={},l(this)}g.prototype.add=function(t,i){return this.u[t]=i,l(this),this},g.prototype.set=function(t){return this.t=h(this.t,t),this},g.prototype.test=function(t){if(this.m=t,this.l=-1,!t.length)return!1;let i,n,s,h,o,r,u,e,c;if(this.re.schema_test.test(t))for(u=this.re.schema_search,u.lastIndex=0;null!==(i=u.exec(t));)if(h=this.testSchemaAt(t,i[2],u.lastIndex),h){this.j=i[2],this.l=i.index+i[1].length,this.p=i.index+i[0].length+h;break}return this.t.fuzzyLink&&this.o["http:"]&&(e=t.search(this.re.host_fuzzy_test),e>=0&&(this.l<0||e<this.l)&&null!==(n=t.match(this.t.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.l<0||o<this.l)&&(this.j="",this.l=o,this.p=n.index+n[0].length))),this.t.fuzzyEmail&&this.o["mailto:"]&&(c=t.indexOf("@"),c>=0&&null!==(s=t.match(this.re.email_fuzzy))&&(o=s.index+s[1].length,r=s.index+s[0].length,(this.l<0||o<this.l||o===this.l&&r>this.p)&&(this.j="mailto:",this.l=o,this.p=r))),this.l>=0},g.prototype.pretest=function(t){return this.re.pretest.test(t)},g.prototype.testSchemaAt=function(t,i,n){return this.o[i.toLowerCase()]?this.o[i.toLowerCase()].validate(t,n,this):0},g.prototype.match=function(t){const i=[];let n=0;this.l>=0&&this.m===t&&(i.push(m(this,n)),n=this.p);let s=n?t.slice(n):t;for(;this.test(s);)i.push(m(this,n)),s=s.slice(this.p),n+=this.p;return i.length?i:null},g.prototype.matchAtStart=function(t){if(this.m=t,this.l=-1,!t.length)return null;const i=this.re.schema_at_start.exec(t);if(!i)return null;const n=this.testSchemaAt(t,i[2],i[0].length);return n?(this.j=i[2],this.l=i.index+i[1].length,this.p=i.index+i[0].length+n,m(this,0)):null},g.prototype.tlds=function(t,i){return t=Array.isArray(t)?t:[t],i?(this.i=this.i.concat(t).sort().filter(function(t,i,n){return t!==n[i-1]}).reverse(),l(this),this):(this.i=t.slice(),this.h=!0,l(this),this)},g.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},g.prototype.onCompile=function(){};export{g as L};
