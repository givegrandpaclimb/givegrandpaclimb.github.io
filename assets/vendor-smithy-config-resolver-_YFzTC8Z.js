import{i as s}from"./vendor-smithy-util-endpoints-CCFhaqzd.js";const i=!1,n=!1,t=new Set,e=s=>"string"==typeof s&&(s.startsWith("fips-")||s.endsWith("-fips")),o=i=>{const{region:n,useFipsEndpoint:o}=i;if(!n)throw new Error("Region is missing");return Object.assign(i,{region:async()=>{const i=(s=>e(s)?["fips-aws-global","aws-fips"].includes(s)?"us-east-1":s.replace(/fips-(dkr-|prod-)?|-fips/,""):s)("function"==typeof n?await n():n);return((i,n=s)=>{if(t.has(i)||n(i))t.add(i);else if("*"!==i)throw new Error(`Region not accepted: region="${i}" is not a valid hostname component.`)})(i),i},useFipsEndpoint:async()=>{const s="string"==typeof n?n:await n();return!!e(s)||("function"!=typeof o?Promise.resolve(!!o):o())}})};export{n as D,i as a,o as r};
