const e=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],t=["TimeoutError","RequestTimeout","RequestTimeoutException"],o=[500,502,503,504],a=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],i=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],n=t=>429===t.$metadata?.httpStatusCode||e.includes(t.name)||1==t.$retryable?.throttling,r=(e,n=0)=>(e=>void 0!==e?.$retryable)(e)||(e=>e.$metadata?.clockSkewCorrected)(e)||t.includes(e.name)||a.includes(e?.code||"")||i.includes(e?.code||"")||o.includes(e.$metadata?.httpStatusCode||0)||(e=>!!(e&&e instanceof TypeError)&&new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]).has(e.message))(e)||void 0!==e.cause&&n<=10&&r(e.cause,n+1),d=e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!r(e)}return!1};export{r as a,d as b,n as i};
