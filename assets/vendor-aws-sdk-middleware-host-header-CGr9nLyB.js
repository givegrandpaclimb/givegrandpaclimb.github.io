import{a as e}from"./vendor-smithy-protocol-http-BM_qqgGS.js";function r(e){return e}const t={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},o=r=>({applyToStack:o=>{o.add((r=>t=>async o=>{if(!e.isInstance(o.request))return t(o);const{request:s}=o,{handlerProtocol:a=""}=r.requestHandler.metadata||{};if(a.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let e=s.hostname;null!=s.port&&(e+=`:${s.port}`),s.headers.host=e}return t(o)})(r),t)}});export{o as g,r};
