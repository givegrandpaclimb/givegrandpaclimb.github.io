import{c as t}from"./vendor-smithy-middleware-stack-DWW4-6o4.js";import{N as e}from"./vendor-smithy-core-BjtElWb2.js";import{S as i,A as r}from"./vendor-smithy-types-CI1XBBMP.js";class s{config;middlewareStack=t();initConfig;handlers;constructor(t){this.config=t}send(t,e,i){const r="function"!=typeof e?e:void 0,s="function"==typeof e?e:i;let n;if(void 0===r&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);const e=this.handlers;e.has(t.constructor)?n=e.get(t.constructor):(n=t.resolveMiddleware(this.middlewareStack,this.config,r),e.set(t.constructor,n))}else delete this.handlers,n=t.resolveMiddleware(this.middlewareStack,this.config,r);if(!s)return n(t).then(t=>t.output);n(t).then(t=>s(null,t.output),t=>s(t)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}const n="***SensitiveInformation***";function o(t,i){if(null==i)return i;const r=e.of(t);if(r.getMergedTraits().sensitive)return n;if(r.isListSchema()){if(r.getValueSchema().getMergedTraits().sensitive)return n}else if(r.isMapSchema()){if(r.getKeySchema().getMergedTraits().sensitive||r.getValueSchema().getMergedTraits().sensitive)return n}else if(r.isStructSchema()&&"object"==typeof i){const t=i,e={};for(const[i,s]of r.structIterator())null!=t[i]&&(e[i]=o(s,t[i]));return e}return i}class a{middlewareStack=t();schema;static classBuilder(){return new c}resolveMiddlewareWithContext(t,e,r,{middlewareFn:s,clientName:n,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:d,CommandCtor:u}){for(const i of s.bind(this)(u,t,e,r))this.middlewareStack.use(i);const h=t.concat(this.middlewareStack),{logger:m}=e,g={logger:m,clientName:n,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[i]:{commandInstance:this,...l},...d},{requestHandler:p}=e;return h.resolve(t=>p.handle(t.request,r||{}),g)}}class c{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,e,i={}){return this._smithyContext={service:t,operation:e,...i},this}c(t={}){return this._additionalContext=t,this}n(t,e){return this._clientName=t,this._commandName=e,this}f(t=t=>t,e=t=>t){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=e,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){const t=this;let e;return e=class extends a{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[e]){super(),this.input=e??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(i,r,s){const n=t._operationSchema,a=n?.[4]??n?.input,c=n?.[5]??n?.output;return this.resolveMiddlewareWithContext(i,r,s,{CommandCtor:e,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(n?o.bind(null,a):t=>t),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(n?o.bind(null,c):t=>t),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}}class l extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;const e=t;return l.prototype.isPrototypeOf(e)||Boolean(e.$fault)&&Boolean(e.$metadata)&&("client"===e.$fault||"server"===e.$fault)}static[Symbol.hasInstance](t){if(!t)return!1;const e=t;return this===l?l.isInstance(t):!!l.isInstance(t)&&(e.name&&this.name?this.prototype.isPrototypeOf(t)||e.name===this.name:this.prototype.isPrototypeOf(t))}}const d=(t,e={})=>{Object.entries(e).filter(([,t])=>void 0!==t).forEach(([e,i])=>{null!=t[e]&&""!==t[e]||(t[e]=i)});const i=t.message||t.Message||"UnknownError";return t.message=i,delete t.Message,t},u=t=>{switch(t){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},h=t=>Object.assign((t=>{const e=[];for(const i in r){const s=r[i];void 0!==t[s]&&e.push({algorithmId:()=>s,checksumConstructor:()=>t[s]})}return{addChecksumAlgorithm(t){e.push(t)},checksumAlgorithms:()=>e}})(t),(t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy:()=>t.retryStrategy}))(t)),m=t=>Object.assign((t=>{const e={};return t.checksumAlgorithms().forEach(t=>{e[t.algorithmId()]=t.checksumConstructor()}),e})(t),(t=>{const e={};return e.retryStrategy=t.retryStrategy(),e})(t)),g=t=>{const e="#text";for(const i in t)t.hasOwnProperty(i)&&void 0!==t[i][e]?t[i]=t[i][e]:"object"==typeof t[i]&&null!==t[i]&&(t[i]=g(t[i]));return t};class p{trace(){}debug(){}info(){}warn(){}error(){}}export{a as C,p as N,l as S,s as a,g as b,d,h as g,u as l,m as r};
