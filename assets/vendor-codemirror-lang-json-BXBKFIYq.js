import{p as r}from"./vendor-lezer-json-CVwII8tJ.js";import{L as e,c as o,d as t,f as n,e as s,k as a}from"./vendor-codemirror-language-C3hkV707.js";import"./vendor-lezer-lr-CZr-wB1l.js";import"./vendor-lezer-common-QPiu6Hcj.js";import"./vendor-lezer-highlight-4-fykoed.js";import"./vendor-codemirror-state-D88w-V9V.js";import"./vendor-marijn-find-cluster-break-BFVNO93u.js";import"./vendor-codemirror-view-DVzN21hM.js";import"./vendor-style-mod-tLAqh-pC.js";import"./vendor-w3c-keyname-BorKtCV5.js";const i=()=>r=>{try{JSON.parse(r.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const o=function(r,e){let o;return(o=r.message.match(/at position (\d+)/))?Math.min(+o[1],e.length):(o=r.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+o[1]).from+ +o[2]-1,e.length):0}(e,r.state.doc);return[{from:o,message:e.message,severity:"error",to:o}]}return[]},m=e.define({name:"json",parser:r.configure({props:[t.add({Object:s({except:/^\s*\}/}),Array:s({except:/^\s*\]/})}),n.add({"Object Array":a})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function c(){return new o(m)}export{c as json,m as jsonLanguage,i as jsonParseLinter};
