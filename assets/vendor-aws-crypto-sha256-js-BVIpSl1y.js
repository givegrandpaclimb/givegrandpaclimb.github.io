import{_ as t,a as i}from"./vendor-tslib-CtOpsvm_.js";import{i as s,c as h}from"./vendor-aws-crypto-util-Cihfljgq.js";var r=64,n=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],o=Math.pow(2,53)-1,e=function(){function t(){this.state=Int32Array.from(a),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var i=0,s=t.byteLength;if(this.bytesHashed+=s,8*this.bytesHashed>o)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=t[i++],s--,this.bufferLength===r&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var t=8*this.bytesHashed,i=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(i.setUint8(this.bufferLength++,128),s%r>=56){for(var h=this.bufferLength;h<r;h++)i.setUint8(h,0);this.hashBuffer(),this.bufferLength=0}for(h=this.bufferLength;h<56;h++)i.setUint8(h,0);i.setUint32(56,Math.floor(t/4294967296),!0),i.setUint32(60,t),this.hashBuffer(),this.finished=!0}var n=new Uint8Array(32);for(h=0;h<8;h++)n[4*h]=this.state[h]>>>24&255,n[4*h+1]=this.state[h]>>>16&255,n[4*h+2]=this.state[h]>>>8&255,n[4*h+3]=this.state[h]>>>0&255;return n},t.prototype.hashBuffer=function(){for(var t=this.buffer,i=this.state,s=i[0],h=i[1],a=i[2],o=i[3],e=i[4],f=i[5],u=i[6],c=i[7],w=0;w<r;w++){if(w<16)this.temp[w]=(255&t[4*w])<<24|(255&t[4*w+1])<<16|(255&t[4*w+2])<<8|255&t[4*w+3];else{var v=this.temp[w-2],y=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,d=((v=this.temp[w-15])>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;this.temp[w]=(y+this.temp[w-7]|0)+(d+this.temp[w-16]|0)}var A=(((e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7))+(e&f^~e&u)|0)+(c+(n[w]+this.temp[w]|0)|0)|0,m=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&h^s&a^h&a)|0;c=u,u=f,f=e,e=o+A|0,o=a,a=h,h=s,s=A+m|0}i[0]+=s,i[1]+=h,i[2]+=a,i[3]+=o,i[4]+=e,i[5]+=f,i[6]+=u,i[7]+=c},t}(),f=function(){function n(t){this.secret=t,this.hash=new e,this.reset()}return n.prototype.update=function(t){if(!s(t)&&!this.error)try{this.hash.update(h(t))}catch(i){this.error=i}},n.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},n.prototype.digest=function(){return t(this,void 0,void 0,function(){return i(this,function(t){return[2,this.digestSync()]})})},n.prototype.reset=function(){if(this.hash=new e,this.secret){this.outer=new e;var t=function(t){var i=h(t);if(i.byteLength>r){var s=new e;s.update(i),i=s.digest()}var n=new Uint8Array(r);return n.set(i),n}(this.secret),i=new Uint8Array(r);i.set(t);for(var s=0;s<r;s++)t[s]^=54,i[s]^=92;for(this.hash.update(t),this.outer.update(i),s=0;s<t.byteLength;s++)t[s]=0}},n}();export{f as S};
