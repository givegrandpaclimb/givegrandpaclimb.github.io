import{_ as t,a as e}from"./vendor-tslib-DgOYTfvz.js";import{i as s,c as i}from"./vendor-aws-crypto-util-BWmqBKNk.js";var r=64,h=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],f=Math.pow(2,53)-1,a=function(){function t(){this.state=Int32Array.from(n),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=0,s=t.byteLength;if(this.bytesHashed+=s,8*this.bytesHashed>f)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=t[e++],s--,this.bufferLength===r&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var t=8*this.bytesHashed,e=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(e.setUint8(this.bufferLength++,128),s%r>=56){for(var i=this.bufferLength;i<r;i++)e.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<56;i++)e.setUint8(i,0);e.setUint32(56,Math.floor(t/4294967296),!0),e.setUint32(60,t),this.hashBuffer(),this.finished=!0}var h=new Uint8Array(32);for(i=0;i<8;i++)h[4*i]=this.state[i]>>>24&255,h[4*i+1]=this.state[i]>>>16&255,h[4*i+2]=this.state[i]>>>8&255,h[4*i+3]=this.state[i]>>>0&255;return h},t.prototype.hashBuffer=function(){for(var t=this.buffer,e=this.state,s=e[0],i=e[1],n=e[2],f=e[3],a=e[4],o=e[5],u=e[6],p=e[7],d=0;d<r;d++){if(d<16)this.temp[d]=(255&t[4*d])<<24|(255&t[4*d+1])<<16|(255&t[4*d+2])<<8|255&t[4*d+3];else{var y=this.temp[d-2],b=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,c=((y=this.temp[d-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[d]=(b+this.temp[d-7]|0)+(c+this.temp[d-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&o^~a&u)|0)+(p+(h[d]+this.temp[d]|0)|0)|0,w=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&n^i&n)|0;p=u,u=o,o=a,a=f+g|0,f=n,n=i,i=s,s=g+w|0}e[0]+=s,e[1]+=i,e[2]+=n,e[3]+=f,e[4]+=a,e[5]+=o,e[6]+=u,e[7]+=p},t}(),o=function(){function h(t){this.secret=t,this.hash=new a,this.reset()}return h.prototype.update=function(t){if(!s(t)&&!this.error)try{this.hash.update(i(t))}catch(e){this.error=e}},h.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},h.prototype.digest=function(){return t(this,void 0,void 0,function(){return e(this,function(t){return[2,this.digestSync()]})})},h.prototype.reset=function(){if(this.hash=new a,this.secret){this.outer=new a;var t=function(t){var e=i(t);if(e.byteLength>r){var s=new a;s.update(e),e=s.digest()}var h=new Uint8Array(r);return h.set(e),h}(this.secret),e=new Uint8Array(r);e.set(t);for(var s=0;s<r;s++)t[s]^=54,e[s]^=92;for(this.hash.update(t),this.outer.update(e),s=0;s<t.byteLength;s++)t[s]=0}},h}();export{o as S};
