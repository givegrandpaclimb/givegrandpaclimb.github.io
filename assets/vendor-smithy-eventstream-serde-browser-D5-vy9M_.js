import{E as e}from"./vendor-smithy-eventstream-serde-universal-CSWBeFV0.js";class r{universalMarshaller;constructor({utf8Encoder:r,utf8Decoder:a}){this.universalMarshaller=new e({utf8Decoder:a,utf8Encoder:r})}deserialize(e,r){const t=a(e)?(n=e,{[Symbol.asyncIterator]:async function*(){const e=n.getReader();try{for(;;){const{done:r,value:a}=await e.read();if(r)return;yield a}}finally{e.releaseLock()}}}):e;var n;return this.universalMarshaller.deserialize(t,r)}serialize(e,r){const a=this.universalMarshaller.serialize(e,r);return"function"==typeof ReadableStream?(e=>{const r=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:a,value:t}=await r.next();if(a)return e.close();e.enqueue(t)}})})(a):a}}const a=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,t=e=>new r(e);export{t as e};
