import{p as e}from"./vendor-lezer-json-BQywAuUw.js";import{L as r,c as t,d as o,f as n,e as s,k as a}from"./vendor-codemirror-language-C0HOxLdp.js";import"./vendor-lezer-lr-DIIk5jxX.js";import"./vendor-lezer-common-tIrRRnFP.js";import"./vendor-lezer-highlight-C9TlP_Gx.js";import"./vendor-codemirror-state-d-AKQu11.js";import"./vendor-marijn-find-cluster-break-Dub_CRYN.js";import"./vendor-codemirror-view-C93cYDIg.js";import"./vendor-style-mod-_NPnILvn.js";import"./vendor-w3c-keyname-f-y9tSbI.js";const i=()=>e=>{try{JSON.parse(e.state.doc.toString())}catch(r){if(!(r instanceof SyntaxError))throw r;const t=function(e,r){let t;return(t=e.message.match(/at position (\d+)/))?Math.min(+t[1],r.length):(t=e.message.match(/at line (\d+) column (\d+)/))?Math.min(r.line(+t[1]).from+ +t[2]-1,r.length):0}(r,e.state.doc);return[{from:t,message:r.message,severity:"error",to:t}]}return[]},m=r.define({name:"json",parser:e.configure({props:[o.add({Object:s({except:/^\s*\}/}),Array:s({except:/^\s*\]/})}),n.add({"Object Array":a})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function d(){return new t(m)}export{d as json,m as jsonLanguage,i as jsonParseLinter};
