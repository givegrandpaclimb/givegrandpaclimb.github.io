import{a as e}from"./vendor-smithy-protocol-http-ZjGpQTbx.js";const t={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},n=n=>({applyToStack:r=>{r.add(function(t){return n=>async r=>{const{request:o}=r;if(!1!==t.expectContinueHeader&&e.isInstance(o)&&o.body&&"node"===t.runtime&&"FetchHttpHandler"!==t.requestHandler?.constructor?.name){let e=!0;if("number"==typeof t.expectContinueHeader)try{e=(Number(o.headers?.["content-length"])??t.bodyLengthChecker?.(o.body)??1/0)>=t.expectContinueHeader}catch(a){}else e=!!t.expectContinueHeader;e&&(o.headers.Expect="100-continue")}return n({...r,request:o})}}(n),t)}});export{n as g};
