const s=!1,i=!1,n=s=>"string"==typeof s&&(s.startsWith("fips-")||s.endsWith("-fips")),t=s=>n(s)?["fips-aws-global","aws-fips"].includes(s)?"us-east-1":s.replace(/fips-(dkr-|prod-)?|-fips/,""):s,r=s=>{const{region:i,useFipsEndpoint:r}=s;if(!i)throw new Error("Region is missing");return Object.assign(s,{region:async()=>{if("string"==typeof i)return t(i);const s=await i();return t(s)},useFipsEndpoint:async()=>{const s="string"==typeof i?i:await i();return!!n(s)||("function"!=typeof r?Promise.resolve(!!r):r())}})};export{i as D,s as a,r};
