import{m as t,u as n,e,f as r,d as i}from"./vendor-mdurl-R8R69q1W.js";import{u as o,P as s,r as c}from"./vendor-uc.micro-CRGj88R_.js";import{d as f}from"./vendor-entities-BOfIfVTV.js";import{L as u}from"./vendor-linkify-it-D4zq5StW.js";import{p as l}from"./vendor-punycode.js-BRSWR7DE.js";function a(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}const h=Object.prototype.hasOwnProperty;function p(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if("object"!=typeof n)throw new TypeError(n+"must be object");Object.keys(n).forEach(function(e){t[e]=n[e]})}}),t}function k(t,n,e){return[].concat(t.slice(0,n),e,t.slice(n+1))}function b(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||!(65535&~t&&65534!=(65535&t))||t>=0&&t<=8||11===t||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function g(t){if(t>65535){const n=55296+((t-=65536)>>10),e=56320+(1023&t);return String.fromCharCode(n,e)}return String.fromCharCode(t)}const d=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,m=new RegExp(d.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),_=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function w(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(m,function(t,n,e){return n||function(t,n){if(35===n.charCodeAt(0)&&_.test(n)){const e="x"===n[1].toLowerCase()?parseInt(n.slice(2),16):parseInt(n.slice(1),10);return b(e)?g(e):t}const e=f(t);return e!==t?e:t}(t,e)})}const x=/[&<>"]/,y=/[&<>"]/g,A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function $(t){return A[t]}function z(t){return x.test(t)?t.replace(y,$):t}const S=/[.?*+^$[\]\\(){}|-]/g;function j(t){switch(t){case 9:case 32:return!0}return!1}function v(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function E(t){return s.test(t)||c.test(t)}function q(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Z(t){return t=t.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(t=t.replace(/ẞ/g,"ß")),t.toLowerCase().toUpperCase()}const O={mdurl:t,ucmicro:o},P=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:k,assign:p,escapeHtml:z,escapeRE:function(t){return t.replace(S,"\\$&")},fromCodePoint:g,has:function(t,n){return h.call(t,n)},isMdAsciiPunct:q,isPunctChar:E,isSpace:j,isString:a,isValidEntityCode:b,isWhiteSpace:v,lib:O,normalizeReference:Z,unescapeAll:w,unescapeMd:function(t){return t.indexOf("\\")<0?t:t.replace(d,"$1")}},Symbol.toStringTag,{value:"Module"})),R=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(t,n,e){let r,i=n;const o={ok:!1,pos:0,str:""};if(60===t.charCodeAt(i)){for(i++;i<e;){if(r=t.charCodeAt(i),10===r)return o;if(60===r)return o;if(62===r)return o.pos=i+1,o.str=w(t.slice(n+1,i)),o.ok=!0,o;92===r&&i+1<e?i+=2:i++}return o}let s=0;for(;i<e&&(r=t.charCodeAt(i),32!==r)&&!(r<32||127===r);)if(92===r&&i+1<e){if(32===t.charCodeAt(i+1))break;i+=2}else{if(40===r&&(s++,s>32))return o;if(41===r){if(0===s)break;s--}i++}return n===i||0!==s||(o.str=w(t.slice(n,i)),o.pos=i,o.ok=!0),o},parseLinkLabel:function(t,n,e){let r,i,o,s;const c=t.posMax,f=t.pos;for(t.pos=n+1,r=1;t.pos<c;){if(o=t.src.charCodeAt(t.pos),93===o&&(r--,0===r)){i=!0;break}if(s=t.pos,t.md.inline.skipToken(t),91===o)if(s===t.pos-1)r++;else if(e)return t.pos=f,-1}let u=-1;return i&&(u=t.pos),t.pos=f,u},parseLinkTitle:function(t,n,e,r){let i,o=n;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)s.str=r.str,s.marker=r.marker;else{if(o>=e)return s;let r=t.charCodeAt(o);if(34!==r&&39!==r&&40!==r)return s;n++,o++,40===r&&(r=41),s.marker=r}for(;o<e;){if(i=t.charCodeAt(o),i===s.marker)return s.pos=o+1,s.str+=w(t.slice(n,o)),s.ok=!0,s;if(40===i&&41===s.marker)return s;92===i&&o+1<e&&o++,o++}return s.can_continue=!0,s.str+=w(t.slice(n,o)),s}},Symbol.toStringTag,{value:"Module"})),I={};function M(){this.rules=p({},I)}function C(){this.t=[],this.i=null}function L(t,n,e){this.type=t,this.tag=n,this.attrs=null,this.map=null,this.nesting=e,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function N(t,n,e){this.src=t,this.env=e,this.tokens=[],this.inlineMode=!1,this.md=n}I.code_inline=function(t,n,e,r,i){const o=t[n];return"<code"+i.renderAttrs(o)+">"+z(o.content)+"</code>"},I.code_block=function(t,n,e,r,i){const o=t[n];return"<pre"+i.renderAttrs(o)+"><code>"+z(t[n].content)+"</code></pre>\n"},I.fence=function(t,n,e,r,i){const o=t[n],s=o.info?w(o.info).trim():"";let c,f="",u="";if(s){const t=s.split(/(\s+)/g);f=t[0],u=t.slice(2).join("")}if(c=e.highlight&&e.highlight(o.content,f,u)||z(o.content),0===c.indexOf("<pre"))return c+"\n";if(s){const t=o.attrIndex("class"),n=o.attrs?o.attrs.slice():[];t<0?n.push(["class",e.langPrefix+f]):(n[t]=n[t].slice(),n[t][1]+=" "+e.langPrefix+f);const r={attrs:n};return`<pre><code${i.renderAttrs(r)}>${c}</code></pre>\n`}return`<pre><code${i.renderAttrs(o)}>${c}</code></pre>\n`},I.image=function(t,n,e,r,i){const o=t[n];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,e,r),i.renderToken(t,n,e)},I.hardbreak=function(t,n,e){return e.xhtmlOut?"<br />\n":"<br>\n"},I.softbreak=function(t,n,e){return e.breaks?e.xhtmlOut?"<br />\n":"<br>\n":"\n"},I.text=function(t,n){return z(t[n].content)},I.html_block=function(t,n){return t[n].content},I.html_inline=function(t,n){return t[n].content},M.prototype.renderAttrs=function(t){let n,e,r;if(!t.attrs)return"";for(r="",n=0,e=t.attrs.length;n<e;n++)r+=" "+z(t.attrs[n][0])+'="'+z(t.attrs[n][1])+'"';return r},M.prototype.renderToken=function(t,n,e){const r=t[n];let i="";if(r.hidden)return"";r.block&&-1!==r.nesting&&n&&t[n-1].hidden&&(i+="\n"),i+=(-1===r.nesting?"</":"<")+r.tag,i+=this.renderAttrs(r),0===r.nesting&&e.xhtmlOut&&(i+=" /");let o=!1;if(r.block&&(o=!0,1===r.nesting&&n+1<t.length)){const e=t[n+1];("inline"===e.type||e.hidden||-1===e.nesting&&e.tag===r.tag)&&(o=!1)}return i+=o?">\n":">",i},M.prototype.renderInline=function(t,n,e){let r="";const i=this.rules;for(let o=0,s=t.length;o<s;o++){const s=t[o].type;void 0!==i[s]?r+=i[s](t,o,n,e,this):r+=this.renderToken(t,o,n)}return r},M.prototype.renderInlineAsText=function(t,n,e){let r="";for(let i=0,o=t.length;i<o;i++)switch(t[i].type){case"text":case"html_inline":case"html_block":r+=t[i].content;break;case"image":r+=this.renderInlineAsText(t[i].children,n,e);break;case"softbreak":case"hardbreak":r+="\n"}return r},M.prototype.render=function(t,n,e){let r="";const i=this.rules;for(let o=0,s=t.length;o<s;o++){const s=t[o].type;"inline"===s?r+=this.renderInline(t[o].children,n,e):void 0!==i[s]?r+=i[s](t,o,n,e,this):r+=this.renderToken(t,o,n,e)}return r},C.prototype.o=function(t){for(let n=0;n<this.t.length;n++)if(this.t[n].name===t)return n;return-1},C.prototype.u=function(){const t=this,n=[""];t.t.forEach(function(t){t.enabled&&t.alt.forEach(function(t){n.indexOf(t)<0&&n.push(t)})}),t.i={},n.forEach(function(n){t.i[n]=[],t.t.forEach(function(e){e.enabled&&(n&&e.alt.indexOf(n)<0||t.i[n].push(e.fn))})})},C.prototype.at=function(t,n,e){const r=this.o(t),i=e||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.t[r].fn=n,this.t[r].alt=i.alt||[],this.i=null},C.prototype.before=function(t,n,e,r){const i=this.o(t),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.t.splice(i,0,{name:n,enabled:!0,fn:e,alt:o.alt||[]}),this.i=null},C.prototype.after=function(t,n,e,r){const i=this.o(t),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.t.splice(i+1,0,{name:n,enabled:!0,fn:e,alt:o.alt||[]}),this.i=null},C.prototype.push=function(t,n,e){const r=e||{};this.t.push({name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.i=null},C.prototype.enable=function(t,n){Array.isArray(t)||(t=[t]);const e=[];return t.forEach(function(t){const r=this.o(t);if(r<0){if(n)return;throw new Error("Rules manager: invalid rule name "+t)}this.t[r].enabled=!0,e.push(t)},this),this.i=null,e},C.prototype.enableOnly=function(t,n){Array.isArray(t)||(t=[t]),this.t.forEach(function(t){t.enabled=!1}),this.enable(t,n)},C.prototype.disable=function(t,n){Array.isArray(t)||(t=[t]);const e=[];return t.forEach(function(t){const r=this.o(t);if(r<0){if(n)return;throw new Error("Rules manager: invalid rule name "+t)}this.t[r].enabled=!1,e.push(t)},this),this.i=null,e},C.prototype.getRules=function(t){return null===this.i&&this.u(),this.i[t]||[]},L.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let e=0,r=n.length;e<r;e++)if(n[e][0]===t)return e;return-1},L.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},L.prototype.attrSet=function(t,n){const e=this.attrIndex(t),r=[t,n];e<0?this.attrPush(r):this.attrs[e]=r},L.prototype.attrGet=function(t){const n=this.attrIndex(t);let e=null;return n>=0&&(e=this.attrs[n][1]),e},L.prototype.attrJoin=function(t,n){const e=this.attrIndex(t);e<0?this.attrPush([t,n]):this.attrs[e][1]=this.attrs[e][1]+" "+n},N.prototype.Token=L;const T=/\r\n?|\n/g,D=/\0/g;function F(t){return/^<a[>\s]/i.test(t)}function W(t){return/^<\/a\s*>/i.test(t)}const H=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,V=/\((c|tm|r)\)/i,B=/\((c|tm|r)\)/gi,G={c:"©",r:"®",tm:"™"};function J(t,n){return G[n.toLowerCase()]}function K(t){let n=0;for(let e=t.length-1;e>=0;e--){const r=t[e];"text"!==r.type||n||(r.content=r.content.replace(B,J)),"link_open"===r.type&&"auto"===r.info&&n--,"link_close"===r.type&&"auto"===r.info&&n++}}function Q(t){let n=0;for(let e=t.length-1;e>=0;e--){const r=t[e];"text"!==r.type||n||H.test(r.content)&&(r.content=r.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===r.type&&"auto"===r.info&&n--,"link_close"===r.type&&"auto"===r.info&&n++}}const U=/['"]/,X=/['"]/g;function Y(t,n,e){return t.slice(0,n)+e+t.slice(n+1)}function tt(t,n){let e;const r=[];for(let i=0;i<t.length;i++){const o=t[i],s=t[i].level;for(e=r.length-1;e>=0&&!(r[e].level<=s);e--);if(r.length=e+1,"text"!==o.type)continue;let c=o.content,f=0,u=c.length;t:for(;f<u;){X.lastIndex=f;const l=X.exec(c);if(!l)break;let a=!0,h=!0;f=l.index+1;const p="'"===l[0];let k=32;if(l.index-1>=0)k=c.charCodeAt(l.index-1);else for(e=i-1;e>=0&&"softbreak"!==t[e].type&&"hardbreak"!==t[e].type;e--)if(t[e].content){k=t[e].content.charCodeAt(t[e].content.length-1);break}let b=32;if(f<u)b=c.charCodeAt(f);else for(e=i+1;e<t.length&&"softbreak"!==t[e].type&&"hardbreak"!==t[e].type;e++)if(t[e].content){b=t[e].content.charCodeAt(0);break}const g=q(k)||E(String.fromCharCode(k)),d=q(b)||E(String.fromCharCode(b)),m=v(k),_=v(b);if(_?a=!1:d&&(m||g||(a=!1)),m?h=!1:g&&(_||d||(h=!1)),34===b&&'"'===l[0]&&k>=48&&k<=57&&(h=a=!1),a&&h&&(a=g,h=d),a||h){if(h)for(e=r.length-1;e>=0;e--){let a=r[e];if(r[e].level<s)break;if(a.single===p&&r[e].level===s){let s,h;a=r[e],p?(s=n.md.options.quotes[2],h=n.md.options.quotes[3]):(s=n.md.options.quotes[0],h=n.md.options.quotes[1]),o.content=Y(o.content,l.index,h),t[a.token].content=Y(t[a.token].content,a.pos,s),f+=h.length-1,a.token===i&&(f+=s.length-1),c=o.content,u=c.length,r.length=e;continue t}}a?r.push({token:i,pos:l.index,single:p,level:s}):h&&p&&(o.content=Y(o.content,l.index,"’"))}else p&&(o.content=Y(o.content,l.index,"’"))}}}const nt=[["normalize",function(t){let n;n=t.src.replace(T,"\n"),n=n.replace(D,"�"),t.src=n}],["block",function(t){let n;t.inlineMode?(n=new t.Token("inline","",0),n.content=t.src,n.map=[0,1],n.children=[],t.tokens.push(n)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const n=t.tokens;for(let e=0,r=n.length;e<r;e++){const r=n[e];"inline"===r.type&&t.md.inline.parse(r.content,t.md,t.env,r.children)}}],["linkify",function(t){const n=t.tokens;if(t.md.options.linkify)for(let e=0,r=n.length;e<r;e++){if("inline"!==n[e].type||!t.md.linkify.pretest(n[e].content))continue;let r=n[e].children,i=0;for(let o=r.length-1;o>=0;o--){const s=r[o];if("link_close"!==s.type){if("html_inline"===s.type&&(F(s.content)&&i>0&&i--,W(s.content)&&i++),!(i>0)&&"text"===s.type&&t.md.linkify.test(s.content)){const i=s.content;let c=t.md.linkify.match(i);const f=[];let u=s.level,l=0;c.length>0&&0===c[0].index&&o>0&&"text_special"===r[o-1].type&&(c=c.slice(1));for(let n=0;n<c.length;n++){const e=c[n].url,r=t.md.normalizeLink(e);if(!t.md.validateLink(r))continue;let o=c[n].text;o=c[n].schema?"mailto:"!==c[n].schema||/^mailto:/i.test(o)?t.md.normalizeLinkText(o):t.md.normalizeLinkText("mailto:"+o).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+o).replace(/^http:\/\//,"");const s=c[n].index;if(s>l){const n=new t.Token("text","",0);n.content=i.slice(l,s),n.level=u,f.push(n)}const a=new t.Token("link_open","a",1);a.attrs=[["href",r]],a.level=u++,a.markup="linkify",a.info="auto",f.push(a);const h=new t.Token("text","",0);h.content=o,h.level=u,f.push(h);const p=new t.Token("link_close","a",-1);p.level=--u,p.markup="linkify",p.info="auto",f.push(p),l=c[n].lastIndex}if(l<i.length){const n=new t.Token("text","",0);n.content=i.slice(l),n.level=u,f.push(n)}n[e].children=r=k(r,o,f)}}else for(o--;r[o].level!==s.level&&"link_open"!==r[o].type;)o--}}}],["replacements",function(t){let n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)"inline"===t.tokens[n].type&&(V.test(t.tokens[n].content)&&K(t.tokens[n].children),H.test(t.tokens[n].content)&&Q(t.tokens[n].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let n=t.tokens.length-1;n>=0;n--)"inline"===t.tokens[n].type&&U.test(t.tokens[n].content)&&tt(t.tokens[n].children,t)}],["text_join",function(t){let n,e;const r=t.tokens,i=r.length;for(let o=0;o<i;o++){if("inline"!==r[o].type)continue;const t=r[o].children,i=t.length;for(n=0;n<i;n++)"text_special"===t[n].type&&(t[n].type="text");for(n=e=0;n<i;n++)"text"===t[n].type&&n+1<i&&"text"===t[n+1].type?t[n+1].content=t[n].content+t[n+1].content:(n!==e&&(t[e]=t[n]),e++);n!==e&&(t.length=e)}}]];function et(){this.ruler=new C;for(let t=0;t<nt.length;t++)this.ruler.push(nt[t][0],nt[t][1])}function rt(t,n,e,r){this.src=t,this.md=n,this.env=e,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,s=0,c=0,f=0,u=i.length,l=!1;s<u;s++){const t=i.charCodeAt(s);if(!l){if(j(t)){c++,9===t?f+=4-f%4:f++;continue}l=!0}10!==t&&s!==u-1||(10!==t&&s++,this.bMarks.push(o),this.eMarks.push(s),this.tShift.push(c),this.sCount.push(f),this.bsCount.push(0),l=!1,c=0,f=0,o=s+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}function it(t,n){const e=t.bMarks[n]+t.tShift[n],r=t.eMarks[n];return t.src.slice(e,r)}function ot(t){const n=[],e=t.length;let r=0,i=t.charCodeAt(r),o=!1,s=0,c="";for(;r<e;)124===i&&(o?(c+=t.substring(s,r-1),s=r):(n.push(c+t.substring(s,r)),c="",s=r+1)),o=92===i,r++,i=t.charCodeAt(r);return n.push(c+t.substring(s)),n}function st(t,n){const e=t.eMarks[n];let r=t.bMarks[n]+t.tShift[n];const i=t.src.charCodeAt(r++);return 42!==i&&45!==i&&43!==i||r<e&&!j(t.src.charCodeAt(r))?-1:r}function ct(t,n){const e=t.bMarks[n]+t.tShift[n],r=t.eMarks[n];let i=e;if(i+1>=r)return-1;let o=t.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=r)return-1;if(o=t.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-e>=10)return-1}return i<r&&(o=t.src.charCodeAt(i),!j(o))?-1:i}et.prototype.process=function(t){const n=this.ruler.getRules("");for(let e=0,r=n.length;e<r;e++)n[e](t)},et.prototype.State=N,rt.prototype.push=function(t,n,e){const r=new L(t,n,e);return r.block=!0,e<0&&this.level--,r.level=this.level,e>0&&this.level++,this.tokens.push(r),r},rt.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},rt.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},rt.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n&&j(this.src.charCodeAt(t));t++);return t},rt.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!j(this.src.charCodeAt(--t)))return t+1;return t},rt.prototype.skipChars=function(t,n){for(let e=this.src.length;t<e&&this.src.charCodeAt(t)===n;t++);return t},rt.prototype.skipCharsBack=function(t,n,e){if(t<=e)return t;for(;t>e;)if(n!==this.src.charCodeAt(--t))return t+1;return t},rt.prototype.getLines=function(t,n,e,r){if(t>=n)return"";const i=new Array(n-t);for(let o=0,s=t;s<n;s++,o++){let t=0;const c=this.bMarks[s];let f,u=c;for(f=s+1<n||r?this.eMarks[s]+1:this.eMarks[s];u<f&&t<e;){const n=this.src.charCodeAt(u);if(j(n))9===n?t+=4-(t+this.bsCount[s])%4:t++;else{if(!(u-c<this.tShift[s]))break;t++}u++}i[o]=t>e?new Array(t-e+1).join(" ")+this.src.slice(u,f):this.src.slice(u,f)}return i.join("")},rt.prototype.Token=L;const ft="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",ut="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",lt=new RegExp("^(?:"+ft+"|"+ut+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),at=new RegExp("^(?:"+ft+"|"+ut+")"),ht=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(at.source+"\\s*$"),/^$/,!1]],pt=[["table",function(t,n,e,r){if(n+2>e)return!1;let i=n+1;if(t.sCount[i]<t.blkIndent)return!1;if(t.sCount[i]-t.blkIndent>=4)return!1;let o=t.bMarks[i]+t.tShift[i];if(o>=t.eMarks[i])return!1;const s=t.src.charCodeAt(o++);if(124!==s&&45!==s&&58!==s)return!1;if(o>=t.eMarks[i])return!1;const c=t.src.charCodeAt(o++);if(124!==c&&45!==c&&58!==c&&!j(c))return!1;if(45===s&&j(c))return!1;for(;o<t.eMarks[i];){const n=t.src.charCodeAt(o);if(124!==n&&45!==n&&58!==n&&!j(n))return!1;o++}let f=it(t,n+1),u=f.split("|");const l=[];for(let d=0;d<u.length;d++){const t=u[d].trim();if(!t){if(0===d||d===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?l.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?l.push("left"):l.push("")}if(f=it(t,n).trim(),-1===f.indexOf("|"))return!1;if(t.sCount[n]-t.blkIndent>=4)return!1;u=ot(f),u.length&&""===u[0]&&u.shift(),u.length&&""===u[u.length-1]&&u.pop();const a=u.length;if(0===a||a!==l.length)return!1;if(r)return!0;const h=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),k=[n,0];t.push("table_open","table",1).map=k,t.push("thead_open","thead",1).map=[n,n+1],t.push("tr_open","tr",1).map=[n,n+1];for(let d=0;d<u.length;d++){const n=t.push("th_open","th",1);l[d]&&(n.attrs=[["style","text-align:"+l[d]]]);const e=t.push("inline","",0);e.content=u[d].trim(),e.children=[],t.push("th_close","th",-1)}let b;t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let g=0;for(i=n+2;i<e&&!(t.sCount[i]<t.blkIndent);i++){let r=!1;for(let n=0,o=p.length;n<o;n++)if(p[n](t,i,e,!0)){r=!0;break}if(r)break;if(f=it(t,i).trim(),!f)break;if(t.sCount[i]-t.blkIndent>=4)break;if(u=ot(f),u.length&&""===u[0]&&u.shift(),u.length&&""===u[u.length-1]&&u.pop(),g+=a-u.length,g>65536)break;i===n+2&&(t.push("tbody_open","tbody",1).map=b=[n+2,0]),t.push("tr_open","tr",1).map=[i,i+1];for(let n=0;n<a;n++){const e=t.push("td_open","td",1);l[n]&&(e.attrs=[["style","text-align:"+l[n]]]);const r=t.push("inline","",0);r.content=u[n]?u[n].trim():"",r.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return b&&(t.push("tbody_close","tbody",-1),b[1]=i),t.push("table_close","table",-1),k[1]=i,t.parentType=h,t.line=i,!0},["paragraph","reference"]],["code",function(t,n,e){if(t.sCount[n]-t.blkIndent<4)return!1;let r=n+1,i=r;for(;r<e;)if(t.isEmpty(r))r++;else{if(!(t.sCount[r]-t.blkIndent>=4))break;r++,i=r}t.line=i;const o=t.push("code_block","code",0);return o.content=t.getLines(n,i,4+t.blkIndent,!1)+"\n",o.map=[n,t.line],!0}],["fence",function(t,n,e,r){let i=t.bMarks[n]+t.tShift[n],o=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4)return!1;if(i+3>o)return!1;const s=t.src.charCodeAt(i);if(126!==s&&96!==s)return!1;let c=i;i=t.skipChars(i,s);let f=i-c;if(f<3)return!1;const u=t.src.slice(c,i),l=t.src.slice(i,o);if(96===s&&l.indexOf(String.fromCharCode(s))>=0)return!1;if(r)return!0;let a=n,h=!1;for(;a++,!(a>=e||(i=c=t.bMarks[a]+t.tShift[a],o=t.eMarks[a],i<o&&t.sCount[a]<t.blkIndent));)if(t.src.charCodeAt(i)===s&&!(t.sCount[a]-t.blkIndent>=4||(i=t.skipChars(i,s),i-c<f||(i=t.skipSpaces(i),i<o)))){h=!0;break}f=t.sCount[n],t.line=a+(h?1:0);const p=t.push("fence","code",0);return p.info=l,p.content=t.getLines(n+1,a,f,!0),p.markup=u,p.map=[n,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,n,e,r){let i=t.bMarks[n]+t.tShift[n],o=t.eMarks[n];const s=t.lineMax;if(t.sCount[n]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(i))return!1;if(r)return!0;const c=[],f=[],u=[],l=[],a=t.md.block.ruler.getRules("blockquote"),h=t.parentType;t.parentType="blockquote";let p,k=!1;for(p=n;p<e;p++){const n=t.sCount[p]<t.blkIndent;if(i=t.bMarks[p]+t.tShift[p],o=t.eMarks[p],i>=o)break;if(62===t.src.charCodeAt(i++)&&!n){let n,e,r=t.sCount[p]+1;32===t.src.charCodeAt(i)?(i++,r++,e=!1,n=!0):9===t.src.charCodeAt(i)?(n=!0,(t.bsCount[p]+r)%4==3?(i++,r++,e=!1):e=!0):n=!1;let s=r;for(c.push(t.bMarks[p]),t.bMarks[p]=i;i<o;){const n=t.src.charCodeAt(i);if(!j(n))break;9===n?s+=4-(s+t.bsCount[p]+(e?1:0))%4:s++,i++}k=i>=o,f.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(n?1:0),u.push(t.sCount[p]),t.sCount[p]=s-r,l.push(t.tShift[p]),t.tShift[p]=i-t.bMarks[p];continue}if(k)break;let r=!1;for(let i=0,o=a.length;i<o;i++)if(a[i](t,p,e,!0)){r=!0;break}if(r){t.lineMax=p,0!==t.blkIndent&&(c.push(t.bMarks[p]),f.push(t.bsCount[p]),l.push(t.tShift[p]),u.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}c.push(t.bMarks[p]),f.push(t.bsCount[p]),l.push(t.tShift[p]),u.push(t.sCount[p]),t.sCount[p]=-1}const b=t.blkIndent;t.blkIndent=0;const g=t.push("blockquote_open","blockquote",1);g.markup=">";const d=[n,0];g.map=d,t.md.block.tokenize(t,n,p),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=s,t.parentType=h,d[1]=t.line;for(let m=0;m<l.length;m++)t.bMarks[m+n]=c[m],t.tShift[m+n]=l[m],t.sCount[m+n]=u[m],t.bsCount[m+n]=f[m];return t.blkIndent=b,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,n,e,r){const i=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4)return!1;let o=t.bMarks[n]+t.tShift[n];const s=t.src.charCodeAt(o++);if(42!==s&&45!==s&&95!==s)return!1;let c=1;for(;o<i;){const n=t.src.charCodeAt(o++);if(n!==s&&!j(n))return!1;n===s&&c++}if(c<3)return!1;if(r)return!0;t.line=n+1;const f=t.push("hr","hr",0);return f.map=[n,t.line],f.markup=Array(c+1).join(String.fromCharCode(s)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,n,e,r){let i,o,s,c,f=n,u=!0;if(t.sCount[f]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[f]-t.listIndent>=4&&t.sCount[f]<t.blkIndent)return!1;let l,a,h,p=!1;if(r&&"paragraph"===t.parentType&&t.sCount[f]>=t.blkIndent&&(p=!0),(h=ct(t,f))>=0){if(l=!0,s=t.bMarks[f]+t.tShift[f],a=Number(t.src.slice(s,h-1)),p&&1!==a)return!1}else{if(!((h=st(t,f))>=0))return!1;l=!1}if(p&&t.skipSpaces(h)>=t.eMarks[f])return!1;if(r)return!0;const k=t.src.charCodeAt(h-1),b=t.tokens.length;l?(c=t.push("ordered_list_open","ol",1),1!==a&&(c.attrs=[["start",a]])):c=t.push("bullet_list_open","ul",1);const g=[f,0];c.map=g,c.markup=String.fromCharCode(k);let d=!1;const m=t.md.block.ruler.getRules("list"),_=t.parentType;for(t.parentType="list";f<e;){o=h,i=t.eMarks[f];const n=t.sCount[f]+h-(t.bMarks[f]+t.tShift[f]);let r=n;for(;o<i;){const n=t.src.charCodeAt(o);if(9===n)r+=4-(r+t.bsCount[f])%4;else{if(32!==n)break;r++}o++}const a=o;let p;p=a>=i?1:r-n,p>4&&(p=1);const b=n+p;c=t.push("list_item_open","li",1),c.markup=String.fromCharCode(k);const g=[f,0];c.map=g,l&&(c.info=t.src.slice(s,h-1));const _=t.tight,w=t.tShift[f],x=t.sCount[f],y=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=b,t.tight=!0,t.tShift[f]=a-t.bMarks[f],t.sCount[f]=r,a>=i&&t.isEmpty(f+1)?t.line=Math.min(t.line+2,e):t.md.block.tokenize(t,f,e,!0),t.tight&&!d||(u=!1),d=t.line-f>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=y,t.tShift[f]=w,t.sCount[f]=x,t.tight=_,c=t.push("list_item_close","li",-1),c.markup=String.fromCharCode(k),f=t.line,g[1]=f,f>=e)break;if(t.sCount[f]<t.blkIndent)break;if(t.sCount[f]-t.blkIndent>=4)break;let A=!1;for(let i=0,o=m.length;i<o;i++)if(m[i](t,f,e,!0)){A=!0;break}if(A)break;if(l){if(h=ct(t,f),h<0)break;s=t.bMarks[f]+t.tShift[f]}else if(h=st(t,f),h<0)break;if(k!==t.src.charCodeAt(h-1))break}return c=l?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),c.markup=String.fromCharCode(k),g[1]=f,t.line=f,t.parentType=_,u&&function(t,n){const e=t.level+2;for(let r=n+2,i=t.tokens.length-2;r<i;r++)t.tokens[r].level===e&&"paragraph_open"===t.tokens[r].type&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}(t,b),!0},["paragraph","reference","blockquote"]],["reference",function(t,n,e,r){let i=t.bMarks[n]+t.tShift[n],o=t.eMarks[n],s=n+1;if(t.sCount[n]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(i))return!1;function c(n){const e=t.lineMax;if(n>=e||t.isEmpty(n))return null;let r=!1;if(t.sCount[n]-t.blkIndent>3&&(r=!0),t.sCount[n]<0&&(r=!0),!r){const r=t.md.block.ruler.getRules("reference"),i=t.parentType;t.parentType="reference";let o=!1;for(let s=0,c=r.length;s<c;s++)if(r[s](t,n,e,!0)){o=!0;break}if(t.parentType=i,o)return null}const i=t.bMarks[n]+t.tShift[n],o=t.eMarks[n];return t.src.slice(i,o+1)}let f=t.src.slice(i,o+1);o=f.length;let u=-1;for(i=1;i<o;i++){const t=f.charCodeAt(i);if(91===t)return!1;if(93===t){u=i;break}if(10===t){const t=c(s);null!==t&&(f+=t,o=f.length,s++)}else if(92===t&&(i++,i<o&&10===f.charCodeAt(i))){const t=c(s);null!==t&&(f+=t,o=f.length,s++)}}if(u<0||58!==f.charCodeAt(u+1))return!1;for(i=u+2;i<o;i++){const t=f.charCodeAt(i);if(10===t){const t=c(s);null!==t&&(f+=t,o=f.length,s++)}else if(!j(t))break}const l=t.md.helpers.parseLinkDestination(f,i,o);if(!l.ok)return!1;const a=t.md.normalizeLink(l.str);if(!t.md.validateLink(a))return!1;i=l.pos;const h=i,p=s,k=i;for(;i<o;i++){const t=f.charCodeAt(i);if(10===t){const t=c(s);null!==t&&(f+=t,o=f.length,s++)}else if(!j(t))break}let b,g=t.md.helpers.parseLinkTitle(f,i,o);for(;g.can_continue;){const n=c(s);if(null===n)break;f+=n,i=o,o=f.length,s++,g=t.md.helpers.parseLinkTitle(f,i,o,g)}for(i<o&&k!==i&&g.ok?(b=g.str,i=g.pos):(b="",i=h,s=p);i<o&&j(f.charCodeAt(i));)i++;if(i<o&&10!==f.charCodeAt(i)&&b)for(b="",i=h,s=p;i<o&&j(f.charCodeAt(i));)i++;if(i<o&&10!==f.charCodeAt(i))return!1;const d=Z(f.slice(1,u));return!!d&&(r||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[d]&&(t.env.references[d]={title:b,href:a}),t.line=s),!0)}],["html_block",function(t,n,e,r){let i=t.bMarks[n]+t.tShift[n],o=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(i))return!1;let s=t.src.slice(i,o),c=0;for(;c<ht.length&&!ht[c][0].test(s);c++);if(c===ht.length)return!1;if(r)return ht[c][2];let f=n+1;if(!ht[c][1].test(s))for(;f<e&&!(t.sCount[f]<t.blkIndent);f++)if(i=t.bMarks[f]+t.tShift[f],o=t.eMarks[f],s=t.src.slice(i,o),ht[c][1].test(s)){0!==s.length&&f++;break}t.line=f;const u=t.push("html_block","",0);return u.map=[n,f],u.content=t.getLines(n,f,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,n,e,r){let i=t.bMarks[n]+t.tShift[n],o=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4)return!1;let s=t.src.charCodeAt(i);if(35!==s||i>=o)return!1;let c=1;for(s=t.src.charCodeAt(++i);35===s&&i<o&&c<=6;)c++,s=t.src.charCodeAt(++i);if(c>6||i<o&&!j(s))return!1;if(r)return!0;o=t.skipSpacesBack(o,i);const f=t.skipCharsBack(o,35,i);f>i&&j(t.src.charCodeAt(f-1))&&(o=f),t.line=n+1;const u=t.push("heading_open","h"+String(c),1);u.markup="########".slice(0,c),u.map=[n,t.line];const l=t.push("inline","",0);return l.content=t.src.slice(i,o).trim(),l.map=[n,t.line],l.children=[],t.push("heading_close","h"+String(c),-1).markup="########".slice(0,c),!0},["paragraph","reference","blockquote"]],["lheading",function(t,n,e){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[n]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let o,s=0,c=n+1;for(;c<e&&!t.isEmpty(c);c++){if(t.sCount[c]-t.blkIndent>3)continue;if(t.sCount[c]>=t.blkIndent){let n=t.bMarks[c]+t.tShift[c];const e=t.eMarks[c];if(n<e&&(o=t.src.charCodeAt(n),(45===o||61===o)&&(n=t.skipChars(n,o),n=t.skipSpaces(n),n>=e))){s=61===o?1:2;break}}if(t.sCount[c]<0)continue;let n=!1;for(let i=0,o=r.length;i<o;i++)if(r[i](t,c,e,!0)){n=!0;break}if(n)break}if(!s)return!1;const f=t.getLines(n,c,t.blkIndent,!1).trim();t.line=c+1;const u=t.push("heading_open","h"+String(s),1);u.markup=String.fromCharCode(o),u.map=[n,t.line];const l=t.push("inline","",0);return l.content=f,l.map=[n,t.line-1],l.children=[],t.push("heading_close","h"+String(s),-1).markup=String.fromCharCode(o),t.parentType=i,!0}],["paragraph",function(t,n,e){const r=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let o=n+1;for(t.parentType="paragraph";o<e&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]<0)continue;let n=!1;for(let i=0,s=r.length;i<s;i++)if(r[i](t,o,e,!0)){n=!0;break}if(n)break}const s=t.getLines(n,o,t.blkIndent,!1).trim();t.line=o,t.push("paragraph_open","p",1).map=[n,t.line];const c=t.push("inline","",0);return c.content=s,c.map=[n,t.line],c.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}]];function kt(){this.ruler=new C;for(let t=0;t<pt.length;t++)this.ruler.push(pt[t][0],pt[t][1],{alt:(pt[t][2]||[]).slice()})}function bt(t,n,e,r){this.src=t,this.env=e,this.md=n,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this.l=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function gt(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}kt.prototype.tokenize=function(t,n,e){const r=this.ruler.getRules(""),i=r.length,o=t.md.options.maxNesting;let s=n,c=!1;for(;s<e&&(t.line=s=t.skipEmptyLines(s),!(s>=e))&&!(t.sCount[s]<t.blkIndent);){if(t.level>=o){t.line=e;break}const n=t.line;let f=!1;for(let o=0;o<i;o++)if(f=r[o](t,s,e,!1),f){if(n>=t.line)throw new Error("block rule didn't increment state.line");break}if(!f)throw new Error("none of the block rules matched");t.tight=!c,t.isEmpty(t.line-1)&&(c=!0),s=t.line,s<e&&t.isEmpty(s)&&(c=!0,s++,t.line=s)}},kt.prototype.parse=function(t,n,e,r){if(!t)return;const i=new this.State(t,n,e,r);this.tokenize(i,i.line,i.lineMax)},kt.prototype.State=rt,bt.prototype.pushPending=function(){const t=new L("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},bt.prototype.push=function(t,n,e){this.pending&&this.pushPending();const r=new L(t,n,e);let i=null;return e<0&&(this.level--,this.delimiters=this.l.pop()),r.level=this.level,e>0&&(this.level++,this.l.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r},bt.prototype.scanDelims=function(t,n){const e=this.posMax,r=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let o=t;for(;o<e&&this.src.charCodeAt(o)===r;)o++;const s=o-t,c=o<e?this.src.charCodeAt(o):32,f=q(i)||E(String.fromCharCode(i)),u=q(c)||E(String.fromCharCode(c)),l=v(i),a=v(c),h=!a&&(!u||l||f),p=!l&&(!f||a||u);return{can_open:h&&(n||!p||f),can_close:p&&(n||!h||u),length:s}},bt.prototype.Token=L;const dt=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,mt=[];for(let Nt=0;Nt<256;Nt++)mt.push(0);function _t(t,n){let e;const r=[],i=n.length;for(let o=0;o<i;o++){const i=n[o];if(126!==i.marker)continue;if(-1===i.end)continue;const s=n[i.end];e=t.tokens[i.token],e.type="s_open",e.tag="s",e.nesting=1,e.markup="~~",e.content="",e=t.tokens[s.token],e.type="s_close",e.tag="s",e.nesting=-1,e.markup="~~",e.content="","text"===t.tokens[s.token-1].type&&"~"===t.tokens[s.token-1].content&&r.push(s.token-1)}for(;r.length;){const n=r.pop();let i=n+1;for(;i<t.tokens.length&&"s_close"===t.tokens[i].type;)i++;i--,n!==i&&(e=t.tokens[i],t.tokens[i]=t.tokens[n],t.tokens[n]=e)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){mt[t.charCodeAt(0)]=1});const wt={tokenize:function(t,n){const e=t.pos,r=t.src.charCodeAt(e);if(n)return!1;if(126!==r)return!1;const i=t.scanDelims(t.pos,!0);let o=i.length;const s=String.fromCharCode(r);if(o<2)return!1;let c;o%2&&(c=t.push("text","",0),c.content=s,o--);for(let f=0;f<o;f+=2)c=t.push("text","",0),c.content=s+s,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},postProcess:function(t){const n=t.tokens_meta,e=t.tokens_meta.length;_t(t,t.delimiters);for(let r=0;r<e;r++)n[r]&&n[r].delimiters&&_t(t,n[r].delimiters)}};function xt(t,n){for(let e=n.length-1;e>=0;e--){const r=n[e];if(95!==r.marker&&42!==r.marker)continue;if(-1===r.end)continue;const i=n[r.end],o=e>0&&n[e-1].end===r.end+1&&n[e-1].marker===r.marker&&n[e-1].token===r.token-1&&n[r.end+1].token===i.token+1,s=String.fromCharCode(r.marker),c=t.tokens[r.token];c.type=o?"strong_open":"em_open",c.tag=o?"strong":"em",c.nesting=1,c.markup=o?s+s:s,c.content="";const f=t.tokens[i.token];f.type=o?"strong_close":"em_close",f.tag=o?"strong":"em",f.nesting=-1,f.markup=o?s+s:s,f.content="",o&&(t.tokens[n[e-1].token].content="",t.tokens[n[r.end+1].token].content="",e--)}}const yt={tokenize:function(t,n){const e=t.pos,r=t.src.charCodeAt(e);if(n)return!1;if(95!==r&&42!==r)return!1;const i=t.scanDelims(t.pos,42===r);for(let o=0;o<i.length;o++)t.push("text","",0).content=String.fromCharCode(r),t.delimiters.push({marker:r,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},postProcess:function(t){const n=t.tokens_meta,e=t.tokens_meta.length;xt(t,t.delimiters);for(let r=0;r<e;r++)n[r]&&n[r].delimiters&&xt(t,n[r].delimiters)}},At=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,$t=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/,zt=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,St=/^&([a-z][a-z0-9]{1,31});/i;function jt(t){const n={},e=t.length;if(!e)return;let r=0,i=-2;const o=[];for(let s=0;s<e;s++){const e=t[s];if(o.push(0),t[r].marker===e.marker&&i===e.token-1||(r=s),i=e.token,e.length=e.length||0,!e.close)continue;n.hasOwnProperty(e.marker)||(n[e.marker]=[-1,-1,-1,-1,-1,-1]);const c=n[e.marker][(e.open?3:0)+e.length%3];let f=r-o[r]-1,u=f;for(;f>c;f-=o[f]+1){const n=t[f];if(n.marker===e.marker&&n.open&&n.end<0){let r=!1;if((n.close||e.open)&&(n.length+e.length)%3==0&&(n.length%3==0&&e.length%3==0||(r=!0)),!r){const r=f>0&&!t[f-1].open?o[f-1]+1:0;o[s]=s-f+r,o[f]=r,e.open=!1,n.end=s,n.close=!1,u=-1,i=-2;break}}}-1!==u&&(n[e.marker][(e.open?3:0)+(e.length||0)%3]=u)}}const vt=[["text",function(t,n){let e=t.pos;for(;e<t.posMax&&!gt(t.src.charCodeAt(e));)e++;return e!==t.pos&&(n||(t.pending+=t.src.slice(t.pos,e)),t.pos=e,!0)}],["linkify",function(t,n){if(!t.md.options.linkify)return!1;if(t.linkLevel>0)return!1;const e=t.pos;if(e+3>t.posMax)return!1;if(58!==t.src.charCodeAt(e))return!1;if(47!==t.src.charCodeAt(e+1))return!1;if(47!==t.src.charCodeAt(e+2))return!1;const r=t.pending.match(dt);if(!r)return!1;const i=r[1],o=t.md.linkify.matchAtStart(t.src.slice(e-i.length));if(!o)return!1;let s=o.url;if(s.length<=i.length)return!1;s=s.replace(/\*+$/,"");const c=t.md.normalizeLink(s);if(!t.md.validateLink(c))return!1;if(!n){t.pending=t.pending.slice(0,-i.length);const n=t.push("link_open","a",1);n.attrs=[["href",c]],n.markup="linkify",n.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(s);const e=t.push("link_close","a",-1);e.markup="linkify",e.info="auto"}return t.pos+=s.length-i.length,!0}],["newline",function(t,n){let e=t.pos;if(10!==t.src.charCodeAt(e))return!1;const r=t.pending.length-1,i=t.posMax;if(!n)if(r>=0&&32===t.pending.charCodeAt(r))if(r>=1&&32===t.pending.charCodeAt(r-1)){let n=r-1;for(;n>=1&&32===t.pending.charCodeAt(n-1);)n--;t.pending=t.pending.slice(0,n),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(e++;e<i&&j(t.src.charCodeAt(e));)e++;return t.pos=e,!0}],["escape",function(t,n){let e=t.pos;const r=t.posMax;if(92!==t.src.charCodeAt(e))return!1;if(e++,e>=r)return!1;let i=t.src.charCodeAt(e);if(10===i){for(n||t.push("hardbreak","br",0),e++;e<r&&(i=t.src.charCodeAt(e),j(i));)e++;return t.pos=e,!0}let o=t.src[e];if(i>=55296&&i<=56319&&e+1<r){const n=t.src.charCodeAt(e+1);n>=56320&&n<=57343&&(o+=t.src[e+1],e++)}const s="\\"+o;if(!n){const n=t.push("text_special","",0);i<256&&0!==mt[i]?n.content=o:n.content=s,n.markup=s,n.info="escape"}return t.pos=e+1,!0}],["backticks",function(t,n){let e=t.pos;if(96!==t.src.charCodeAt(e))return!1;const r=e;e++;const i=t.posMax;for(;e<i&&96===t.src.charCodeAt(e);)e++;const o=t.src.slice(r,e),s=o.length;if(t.backticksScanned&&(t.backticks[s]||0)<=r)return n||(t.pending+=o),t.pos+=s,!0;let c,f=e;for(;-1!==(c=t.src.indexOf("`",f));){for(f=c+1;f<i&&96===t.src.charCodeAt(f);)f++;const r=f-c;if(r===s){if(!n){const n=t.push("code_inline","code",0);n.markup=o,n.content=t.src.slice(e,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=f,!0}t.backticks[r]=c}return t.backticksScanned=!0,n||(t.pending+=o),t.pos+=s,!0}],["strikethrough",wt.tokenize],["emphasis",yt.tokenize],["link",function(t,n){let e,r,i,o,s="",c="",f=t.pos,u=!0;if(91!==t.src.charCodeAt(t.pos))return!1;const l=t.pos,a=t.posMax,h=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let k=p+1;if(k<a&&40===t.src.charCodeAt(k)){for(u=!1,k++;k<a&&(e=t.src.charCodeAt(k),j(e)||10===e);k++);if(k>=a)return!1;if(f=k,i=t.md.helpers.parseLinkDestination(t.src,k,t.posMax),i.ok){for(s=t.md.normalizeLink(i.str),t.md.validateLink(s)?k=i.pos:s="",f=k;k<a&&(e=t.src.charCodeAt(k),j(e)||10===e);k++);if(i=t.md.helpers.parseLinkTitle(t.src,k,t.posMax),k<a&&f!==k&&i.ok)for(c=i.str,k=i.pos;k<a&&(e=t.src.charCodeAt(k),j(e)||10===e);k++);}(k>=a||41!==t.src.charCodeAt(k))&&(u=!0),k++}if(u){if(void 0===t.env.references)return!1;if(k<a&&91===t.src.charCodeAt(k)?(f=k+1,k=t.md.helpers.parseLinkLabel(t,k),k>=0?r=t.src.slice(f,k++):k=p+1):k=p+1,r||(r=t.src.slice(h,p)),o=t.env.references[Z(r)],!o)return t.pos=l,!1;s=o.href,c=o.title}if(!n){t.pos=h,t.posMax=p;const n=[["href",s]];t.push("link_open","a",1).attrs=n,c&&n.push(["title",c]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=k,t.posMax=a,!0}],["image",function(t,n){let e,r,i,o,s,c,f,u,l="";const a=t.pos,h=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;const p=t.pos+2,k=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(k<0)return!1;if(o=k+1,o<h&&40===t.src.charCodeAt(o)){for(o++;o<h&&(e=t.src.charCodeAt(o),j(e)||10===e);o++);if(o>=h)return!1;for(u=o,c=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),c.ok&&(l=t.md.normalizeLink(c.str),t.md.validateLink(l)?o=c.pos:l=""),u=o;o<h&&(e=t.src.charCodeAt(o),j(e)||10===e);o++);if(c=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<h&&u!==o&&c.ok)for(f=c.str,o=c.pos;o<h&&(e=t.src.charCodeAt(o),j(e)||10===e);o++);else f="";if(o>=h||41!==t.src.charCodeAt(o))return t.pos=a,!1;o++}else{if(void 0===t.env.references)return!1;if(o<h&&91===t.src.charCodeAt(o)?(u=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?i=t.src.slice(u,o++):o=k+1):o=k+1,i||(i=t.src.slice(p,k)),s=t.env.references[Z(i)],!s)return t.pos=a,!1;l=s.href,f=s.title}if(!n){r=t.src.slice(p,k);const n=[];t.md.inline.parse(r,t.md,t.env,n);const e=t.push("image","img",0),i=[["src",l],["alt",""]];e.attrs=i,e.children=n,e.content=r,f&&i.push(["title",f])}return t.pos=o,t.posMax=h,!0}],["autolink",function(t,n){let e=t.pos;if(60!==t.src.charCodeAt(e))return!1;const r=t.pos,i=t.posMax;for(;;){if(++e>=i)return!1;const n=t.src.charCodeAt(e);if(60===n)return!1;if(62===n)break}const o=t.src.slice(r+1,e);if($t.test(o)){const e=t.md.normalizeLink(o);if(!t.md.validateLink(e))return!1;if(!n){const n=t.push("link_open","a",1);n.attrs=[["href",e]],n.markup="autolink",n.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(o);const r=t.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return t.pos+=o.length+2,!0}if(At.test(o)){const e=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(e))return!1;if(!n){const n=t.push("link_open","a",1);n.attrs=[["href",e]],n.markup="autolink",n.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(o);const r=t.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return t.pos+=o.length+2,!0}return!1}],["html_inline",function(t,n){if(!t.md.options.html)return!1;const e=t.posMax,r=t.pos;if(60!==t.src.charCodeAt(r)||r+2>=e)return!1;const i=t.src.charCodeAt(r+1);if(33!==i&&63!==i&&47!==i&&!function(t){const n=32|t;return n>=97&&n<=122}(i))return!1;const o=t.src.slice(r).match(lt);if(!o)return!1;if(!n){const n=t.push("html_inline","",0);n.content=o[0],s=n.content,/^<a[>\s]/i.test(s)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(n.content)&&t.linkLevel--}var s;return t.pos+=o[0].length,!0}],["entity",function(t,n){const e=t.pos,r=t.posMax;if(38!==t.src.charCodeAt(e))return!1;if(e+1>=r)return!1;if(35===t.src.charCodeAt(e+1)){const r=t.src.slice(e).match(zt);if(r){if(!n){const n="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),e=t.push("text_special","",0);e.content=b(n)?g(n):g(65533),e.markup=r[0],e.info="entity"}return t.pos+=r[0].length,!0}}else{const r=t.src.slice(e).match(St);if(r){const e=f(r[0]);if(e!==r[0]){if(!n){const n=t.push("text_special","",0);n.content=e,n.markup=r[0],n.info="entity"}return t.pos+=r[0].length,!0}}}return!1}]],Et=[["balance_pairs",function(t){const n=t.tokens_meta,e=t.tokens_meta.length;jt(t.delimiters);for(let r=0;r<e;r++)n[r]&&n[r].delimiters&&jt(n[r].delimiters)}],["strikethrough",wt.postProcess],["emphasis",yt.postProcess],["fragments_join",function(t){let n,e,r=0;const i=t.tokens,o=t.tokens.length;for(n=e=0;n<o;n++)i[n].nesting<0&&r--,i[n].level=r,i[n].nesting>0&&r++,"text"===i[n].type&&n+1<o&&"text"===i[n+1].type?i[n+1].content=i[n].content+i[n+1].content:(n!==e&&(i[e]=i[n]),e++);n!==e&&(i.length=e)}]];function qt(){this.ruler=new C;for(let t=0;t<vt.length;t++)this.ruler.push(vt[t][0],vt[t][1]);this.ruler2=new C;for(let t=0;t<Et.length;t++)this.ruler2.push(Et[t][0],Et[t][1])}qt.prototype.skipToken=function(t){const n=t.pos,e=this.ruler.getRules(""),r=e.length,i=t.md.options.maxNesting,o=t.cache;if(void 0!==o[n])return void(t.pos=o[n]);let s=!1;if(t.level<i){for(let c=0;c<r;c++)if(t.level++,s=e[c](t,!0),t.level--,s){if(n>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;s||t.pos++,o[n]=t.pos},qt.prototype.tokenize=function(t){const n=this.ruler.getRules(""),e=n.length,r=t.posMax,i=t.md.options.maxNesting;for(;t.pos<r;){const o=t.pos;let s=!1;if(t.level<i)for(let r=0;r<e;r++)if(s=n[r](t,!1),s){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(s){if(t.pos>=r)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},qt.prototype.parse=function(t,n,e,r){const i=new this.State(t,n,e,r);this.tokenize(i);const o=this.ruler2.getRules(""),s=o.length;for(let c=0;c<s;c++)o[c](i)},qt.prototype.State=bt;const Zt={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},Ot=/^(vbscript|javascript|file|data):/,Pt=/^data:image\/(gif|png|jpeg|webp);/;function Rt(t){const n=t.trim().toLowerCase();return!Ot.test(n)||Pt.test(n)}const It=["http:","https:","mailto:"];function Mt(t){const i=n(t,!0);if(i.hostname&&(!i.protocol||It.indexOf(i.protocol)>=0))try{i.hostname=l.toASCII(i.hostname)}catch(o){}return e(r(i))}function Ct(t){const e=n(t,!0);if(e.hostname&&(!e.protocol||It.indexOf(e.protocol)>=0))try{e.hostname=l.toUnicode(e.hostname)}catch(o){}return i(r(e),i.defaultChars+"%")}function Lt(t,n){if(!(this instanceof Lt))return new Lt(t,n);n||a(t)||(n=t||{},t="default"),this.inline=new qt,this.block=new kt,this.core=new et,this.renderer=new M,this.linkify=new u,this.validateLink=Rt,this.normalizeLink=Mt,this.normalizeLinkText=Ct,this.utils=P,this.helpers=p({},R),this.options={},this.configure(t),n&&this.set(n)}Lt.prototype.set=function(t){return p(this.options,t),this},Lt.prototype.configure=function(t){const n=this;if(a(t)){const n=t;if(!(t=Zt[n]))throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&n.set(t.options),t.components&&Object.keys(t.components).forEach(function(e){t.components[e].rules&&n[e].ruler.enableOnly(t.components[e].rules),t.components[e].rules2&&n[e].ruler2.enableOnly(t.components[e].rules2)}),this},Lt.prototype.enable=function(t,n){let e=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(n){e=e.concat(this[n].ruler.enable(t,!0))},this),e=e.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(t){return e.indexOf(t)<0});if(r.length&&!n)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},Lt.prototype.disable=function(t,n){let e=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(n){e=e.concat(this[n].ruler.disable(t,!0))},this),e=e.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(t){return e.indexOf(t)<0});if(r.length&&!n)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},Lt.prototype.use=function(t){const n=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,n),this},Lt.prototype.parse=function(t,n){if("string"!=typeof t)throw new Error("Input data should be a String");const e=new this.core.State(t,this,n);return this.core.process(e),e.tokens},Lt.prototype.render=function(t,n){return n=n||{},this.renderer.render(this.parse(t,n),this.options,n)},Lt.prototype.parseInline=function(t,n){const e=new this.core.State(t,this,n);return e.inlineMode=!0,this.core.process(e),e.tokens},Lt.prototype.renderInline=function(t,n){return n=n||{},this.renderer.render(this.parseInline(t,n),this.options,n)};export{Lt as M};
