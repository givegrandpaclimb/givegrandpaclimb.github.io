import{c as t}from"./vendor-smithy-middleware-stack-CMoqCLo4.js";import{N as e}from"./vendor-smithy-core-CFTV9i4d.js";import{S as s,A as n}from"./vendor-smithy-types-CI1XBBMP.js";class r{constructor(e){this.config=e,this.middlewareStack=t()}send(t,e,s){const n="function"!=typeof e?e:void 0,r="function"==typeof e?e:s;let i;if(void 0===n&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);const e=this.handlers;e.has(t.constructor)?i=e.get(t.constructor):(i=t.resolveMiddleware(this.middlewareStack,this.config,n),e.set(t.constructor,i))}else delete this.handlers,i=t.resolveMiddleware(this.middlewareStack,this.config,n);if(!r)return i(t).then(t=>t.output);i(t).then(t=>r(null,t.output),t=>r(t)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}const i="***SensitiveInformation***";function o(t,s){if(null==s)return s;const n=e.of(t);if(n.getMergedTraits().sensitive)return i;if(n.isListSchema()){if(n.getValueSchema().getMergedTraits().sensitive)return i}else if(n.isMapSchema()){if(n.getKeySchema().getMergedTraits().sensitive||n.getValueSchema().getMergedTraits().sensitive)return i}else if(n.isStructSchema()&&"object"==typeof s){const t=s,e={};for(const[s,r]of n.structIterator())null!=t[s]&&(e[s]=o(r,t[s]));return e}return s}class c{constructor(){this.middlewareStack=t()}static classBuilder(){return new u}resolveMiddlewareWithContext(t,e,n,{middlewareFn:r,clientName:i,commandName:o,inputFilterSensitiveLog:c,outputFilterSensitiveLog:u,smithyContext:a,additionalContext:h,CommandCtor:d}){for(const s of r.bind(this)(d,t,e,n))this.middlewareStack.use(s);const l=t.concat(this.middlewareStack),{logger:f}=e,m={logger:f,clientName:i,commandName:o,inputFilterSensitiveLog:c,outputFilterSensitiveLog:u,[s]:{commandInstance:this,...a},...h},{requestHandler:p}=e;return l.resolve(t=>p.handle(t.request,n||{}),m)}}class u{constructor(){this.t=()=>{},this.i={},this.o=()=>[],this.u="",this.h="",this.l={},this.p={},this.v=void 0,this.C=void 0,this.S=null,this.j=null}init(t){this.t=t}ep(t){return this.i=t,this}m(t){return this.o=t,this}s(t,e,s={}){return this.p={service:t,operation:e,...s},this}c(t={}){return this.l=t,this}n(t,e){return this.h=t,this.u=e,this}f(t=t=>t,e=t=>t){return this.v=t,this.C=e,this}ser(t){return this.S=t,this}de(t){return this.j=t,this}sc(t){return this.I=t,this.p.operationSchema=t,this}build(){const t=this;let e;return e=class extends c{static getEndpointParameterInstructions(){return t.i}constructor(...[e]){super(),this.serialize=t.S,this.deserialize=t.j,this.input=e??{},t.t(this),this.schema=t.I}resolveMiddleware(s,n,r){return this.resolveMiddlewareWithContext(s,n,r,{CommandCtor:e,middlewareFn:t.o,clientName:t.h,commandName:t.u,inputFilterSensitiveLog:t.v??(t.I?o.bind(null,t.I.input):t=>t),outputFilterSensitiveLog:t.C??(t.I?o.bind(null,t.I.output):t=>t),smithyContext:t.p,additionalContext:t.l})}}}}const a="***SensitiveInformation***";class h extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;const e=t;return h.prototype.isPrototypeOf(e)||Boolean(e.$fault)&&Boolean(e.$metadata)&&("client"===e.$fault||"server"===e.$fault)}static[Symbol.hasInstance](t){if(!t)return!1;const e=t;return this===h?h.isInstance(t):!!h.isInstance(t)&&(e.name&&this.name?this.prototype.isPrototypeOf(t)||e.name===this.name:this.prototype.isPrototypeOf(t))}}const d=(t,e={})=>{Object.entries(e).filter(([,t])=>void 0!==t).forEach(([e,s])=>{null!=t[e]&&""!==t[e]||(t[e]=s)});const s=t.message||t.Message||"UnknownError";return t.message=s,delete t.Message,t},l=t=>({output:e,parsedBody:s,errorCode:n})=>{(({output:t,parsedBody:e,exceptionCtor:s,errorCode:n})=>{const r=f(t),i=r.httpStatusCode?r.httpStatusCode+"":void 0,o=new s({name:e?.code||e?.Code||n||i||"UnknownError",$fault:"client",$metadata:r});throw d(o,e)})({output:e,parsedBody:s,exceptionCtor:t,errorCode:n})},f=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),m=t=>{switch(t){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},p=t=>Object.assign((t=>{const e=[];for(const s in n){const r=n[s];void 0!==t[r]&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{addChecksumAlgorithm(t){e.push(t)},checksumAlgorithms:()=>e}})(t),(t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy:()=>t.retryStrategy}))(t)),y=t=>Object.assign((t=>{const e={};return t.checksumAlgorithms().forEach(t=>{e[t.algorithmId()]=t.checksumConstructor()}),e})(t),(t=>{const e={};return e.retryStrategy=t.retryStrategy(),e})(t)),v=t=>Array.isArray(t)?t:[t],g=t=>{const e="#text";for(const s in t)t.hasOwnProperty(s)&&void 0!==t[s][e]?t[s]=t[s][e]:"object"==typeof t[s]&&null!==t[s]&&(t[s]=g(t[s]));return t},C=t=>null!=t;class b{trace(){}debug(){}info(){}warn(){}error(){}}function w(t,e,s){let n,r,i;if(void 0===e&&void 0===s)n={},i=t;else{if(n=t,"function"==typeof e)return r=e,i=s,S(n,r,i);i=e}for(const o of Object.keys(i))Array.isArray(i[o])?j(n,null,i,o):n[o]=i[o];return n}const S=(t,e,s)=>w(t,Object.entries(s).reduce((t,[s,n])=>(Array.isArray(n)?t[s]=n:t[s]="function"==typeof n?[e,n()]:[e,n],t),{})),j=(t,e,s,n)=>{let[r,i]=s[n];if("function"==typeof i){let e;const s=void 0===r&&null!=(e=i()),o="function"==typeof r&&!!r(void 0)||"function"!=typeof r&&!!r;s?t[n]=e:o&&(t[n]=i())}else{const e=void 0===r&&null!=i,s="function"==typeof r&&!!r(i)||"function"!=typeof r&&!!r;(e||s)&&(t[n]=i)}},x=t=>t.toISOString().replace(".000Z","Z");export{c as C,b as N,h as S,a,p as b,r as c,d,g as e,v as g,C as i,m as l,w as m,y as r,x as s,l as w};
