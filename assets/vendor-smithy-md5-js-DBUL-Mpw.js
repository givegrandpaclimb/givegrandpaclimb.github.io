import{f as t}from"./vendor-smithy-util-utf8-MtSxxKG8.js";const e=[1732584193,4023233417,2562383102,271733878];class n{state;buffer;bufferLength;bytesHashed;finished;constructor(){this.reset()}update(e){if(function(t){return"string"==typeof t?0===t.length:0===t.byteLength}(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const n=function(e){return"string"==typeof e?t(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}(e);let i=0,{byteLength:g}=n;for(this.bytesHashed+=g;g>0;)this.buffer.setUint8(this.bufferLength++,n[i++]),g--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:t,bufferLength:e,bytesHashed:n}=this,i=8*n;if(t.setUint8(this.bufferLength++,128),e%64>=56){for(let e=this.bufferLength;e<64;e++)t.setUint8(e,0);this.hashBuffer(),this.bufferLength=0}for(let g=this.bufferLength;g<56;g++)t.setUint8(g,0);t.setUint32(56,i>>>0,!0),t.setUint32(60,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(16));for(let e=0;e<4;e++)t.setUint32(4*e,this.state[e],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:e}=this;let n=e[0],i=e[1],s=e[2],h=e[3];n=g(n,i,s,h,t.getUint32(0,!0),7,3614090360),h=g(h,n,i,s,t.getUint32(4,!0),12,3905402710),s=g(s,h,n,i,t.getUint32(8,!0),17,606105819),i=g(i,s,h,n,t.getUint32(12,!0),22,3250441966),n=g(n,i,s,h,t.getUint32(16,!0),7,4118548399),h=g(h,n,i,s,t.getUint32(20,!0),12,1200080426),s=g(s,h,n,i,t.getUint32(24,!0),17,2821735955),i=g(i,s,h,n,t.getUint32(28,!0),22,4249261313),n=g(n,i,s,h,t.getUint32(32,!0),7,1770035416),h=g(h,n,i,s,t.getUint32(36,!0),12,2336552879),s=g(s,h,n,i,t.getUint32(40,!0),17,4294925233),i=g(i,s,h,n,t.getUint32(44,!0),22,2304563134),n=g(n,i,s,h,t.getUint32(48,!0),7,1804603682),h=g(h,n,i,s,t.getUint32(52,!0),12,4254626195),s=g(s,h,n,i,t.getUint32(56,!0),17,2792965006),i=g(i,s,h,n,t.getUint32(60,!0),22,1236535329),n=f(n,i,s,h,t.getUint32(4,!0),5,4129170786),h=f(h,n,i,s,t.getUint32(24,!0),9,3225465664),s=f(s,h,n,i,t.getUint32(44,!0),14,643717713),i=f(i,s,h,n,t.getUint32(0,!0),20,3921069994),n=f(n,i,s,h,t.getUint32(20,!0),5,3593408605),h=f(h,n,i,s,t.getUint32(40,!0),9,38016083),s=f(s,h,n,i,t.getUint32(60,!0),14,3634488961),i=f(i,s,h,n,t.getUint32(16,!0),20,3889429448),n=f(n,i,s,h,t.getUint32(36,!0),5,568446438),h=f(h,n,i,s,t.getUint32(56,!0),9,3275163606),s=f(s,h,n,i,t.getUint32(12,!0),14,4107603335),i=f(i,s,h,n,t.getUint32(32,!0),20,1163531501),n=f(n,i,s,h,t.getUint32(52,!0),5,2850285829),h=f(h,n,i,s,t.getUint32(8,!0),9,4243563512),s=f(s,h,n,i,t.getUint32(28,!0),14,1735328473),i=f(i,s,h,n,t.getUint32(48,!0),20,2368359562),n=r(n,i,s,h,t.getUint32(20,!0),4,4294588738),h=r(h,n,i,s,t.getUint32(32,!0),11,2272392833),s=r(s,h,n,i,t.getUint32(44,!0),16,1839030562),i=r(i,s,h,n,t.getUint32(56,!0),23,4259657740),n=r(n,i,s,h,t.getUint32(4,!0),4,2763975236),h=r(h,n,i,s,t.getUint32(16,!0),11,1272893353),s=r(s,h,n,i,t.getUint32(28,!0),16,4139469664),i=r(i,s,h,n,t.getUint32(40,!0),23,3200236656),n=r(n,i,s,h,t.getUint32(52,!0),4,681279174),h=r(h,n,i,s,t.getUint32(0,!0),11,3936430074),s=r(s,h,n,i,t.getUint32(12,!0),16,3572445317),i=r(i,s,h,n,t.getUint32(24,!0),23,76029189),n=r(n,i,s,h,t.getUint32(36,!0),4,3654602809),h=r(h,n,i,s,t.getUint32(48,!0),11,3873151461),s=r(s,h,n,i,t.getUint32(60,!0),16,530742520),i=r(i,s,h,n,t.getUint32(8,!0),23,3299628645),n=U(n,i,s,h,t.getUint32(0,!0),6,4096336452),h=U(h,n,i,s,t.getUint32(28,!0),10,1126891415),s=U(s,h,n,i,t.getUint32(56,!0),15,2878612391),i=U(i,s,h,n,t.getUint32(20,!0),21,4237533241),n=U(n,i,s,h,t.getUint32(48,!0),6,1700485571),h=U(h,n,i,s,t.getUint32(12,!0),10,2399980690),s=U(s,h,n,i,t.getUint32(40,!0),15,4293915773),i=U(i,s,h,n,t.getUint32(4,!0),21,2240044497),n=U(n,i,s,h,t.getUint32(32,!0),6,1873313359),h=U(h,n,i,s,t.getUint32(60,!0),10,4264355552),s=U(s,h,n,i,t.getUint32(24,!0),15,2734768916),i=U(i,s,h,n,t.getUint32(52,!0),21,1309151649),n=U(n,i,s,h,t.getUint32(16,!0),6,4149444226),h=U(h,n,i,s,t.getUint32(44,!0),10,3174756917),s=U(s,h,n,i,t.getUint32(8,!0),15,718787259),i=U(i,s,h,n,t.getUint32(36,!0),21,3951481745),e[0]=n+e[0]&4294967295,e[1]=i+e[1]&4294967295,e[2]=s+e[2]&4294967295,e[3]=h+e[3]&4294967295}reset(){this.state=Uint32Array.from(e),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function i(t,e,n,i,g,f){return((e=(e+t&4294967295)+(i+f&4294967295)&4294967295)<<g|e>>>32-g)+n&4294967295}function g(t,e,n,g,f,r,U){return i(e&n|~e&g,t,e,f,r,U)}function f(t,e,n,g,f,r,U){return i(e&g|n&~g,t,e,f,r,U)}function r(t,e,n,g,f,r,U){return i(e^n^g,t,e,f,r,U)}function U(t,e,n,g,f,r,U){return i(n^(e|~g),t,e,f,r,U)}export{n as M};
