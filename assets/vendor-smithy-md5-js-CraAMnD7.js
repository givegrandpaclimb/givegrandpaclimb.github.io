import{f as t}from"./vendor-smithy-util-utf8-xqXQEPn9.js";const r=[1732584193,4023233417,2562383102,271733878];class e{constructor(){this.reset()}update(r){if(function(t){return"string"==typeof t?0===t.length:0===t.byteLength}(r))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const e=function(r){return"string"==typeof r?t(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}(r);let i=0,{byteLength:n}=e;for(this.bytesHashed+=n;n>0;)this.buffer.setUint8(this.bufferLength++,e[i++]),n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:t,bufferLength:r,bytesHashed:e}=this,i=8*e;if(t.setUint8(this.bufferLength++,128),r%64>=56){for(let r=this.bufferLength;r<64;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(let n=this.bufferLength;n<56;n++)t.setUint8(n,0);t.setUint32(56,i>>>0,!0),t.setUint32(60,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(16));for(let r=0;r<4;r++)t.setUint32(4*r,this.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:r}=this;let e=r[0],i=r[1],u=r[2],o=r[3];e=n(e,i,u,o,t.getUint32(0,!0),7,3614090360),o=n(o,e,i,u,t.getUint32(4,!0),12,3905402710),u=n(u,o,e,i,t.getUint32(8,!0),17,606105819),i=n(i,u,o,e,t.getUint32(12,!0),22,3250441966),e=n(e,i,u,o,t.getUint32(16,!0),7,4118548399),o=n(o,e,i,u,t.getUint32(20,!0),12,1200080426),u=n(u,o,e,i,t.getUint32(24,!0),17,2821735955),i=n(i,u,o,e,t.getUint32(28,!0),22,4249261313),e=n(e,i,u,o,t.getUint32(32,!0),7,1770035416),o=n(o,e,i,u,t.getUint32(36,!0),12,2336552879),u=n(u,o,e,i,t.getUint32(40,!0),17,4294925233),i=n(i,u,o,e,t.getUint32(44,!0),22,2304563134),e=n(e,i,u,o,t.getUint32(48,!0),7,1804603682),o=n(o,e,i,u,t.getUint32(52,!0),12,4254626195),u=n(u,o,e,i,t.getUint32(56,!0),17,2792965006),i=n(i,u,o,e,t.getUint32(60,!0),22,1236535329),e=s(e,i,u,o,t.getUint32(4,!0),5,4129170786),o=s(o,e,i,u,t.getUint32(24,!0),9,3225465664),u=s(u,o,e,i,t.getUint32(44,!0),14,643717713),i=s(i,u,o,e,t.getUint32(0,!0),20,3921069994),e=s(e,i,u,o,t.getUint32(20,!0),5,3593408605),o=s(o,e,i,u,t.getUint32(40,!0),9,38016083),u=s(u,o,e,i,t.getUint32(60,!0),14,3634488961),i=s(i,u,o,e,t.getUint32(16,!0),20,3889429448),e=s(e,i,u,o,t.getUint32(36,!0),5,568446438),o=s(o,e,i,u,t.getUint32(56,!0),9,3275163606),u=s(u,o,e,i,t.getUint32(12,!0),14,4107603335),i=s(i,u,o,e,t.getUint32(32,!0),20,1163531501),e=s(e,i,u,o,t.getUint32(52,!0),5,2850285829),o=s(o,e,i,u,t.getUint32(8,!0),9,4243563512),u=s(u,o,e,i,t.getUint32(28,!0),14,1735328473),i=s(i,u,o,e,t.getUint32(48,!0),20,2368359562),e=f(e,i,u,o,t.getUint32(20,!0),4,4294588738),o=f(o,e,i,u,t.getUint32(32,!0),11,2272392833),u=f(u,o,e,i,t.getUint32(44,!0),16,1839030562),i=f(i,u,o,e,t.getUint32(56,!0),23,4259657740),e=f(e,i,u,o,t.getUint32(4,!0),4,2763975236),o=f(o,e,i,u,t.getUint32(16,!0),11,1272893353),u=f(u,o,e,i,t.getUint32(28,!0),16,4139469664),i=f(i,u,o,e,t.getUint32(40,!0),23,3200236656),e=f(e,i,u,o,t.getUint32(52,!0),4,681279174),o=f(o,e,i,u,t.getUint32(0,!0),11,3936430074),u=f(u,o,e,i,t.getUint32(12,!0),16,3572445317),i=f(i,u,o,e,t.getUint32(24,!0),23,76029189),e=f(e,i,u,o,t.getUint32(36,!0),4,3654602809),o=f(o,e,i,u,t.getUint32(48,!0),11,3873151461),u=f(u,o,e,i,t.getUint32(60,!0),16,530742520),i=f(i,u,o,e,t.getUint32(8,!0),23,3299628645),e=h(e,i,u,o,t.getUint32(0,!0),6,4096336452),o=h(o,e,i,u,t.getUint32(28,!0),10,1126891415),u=h(u,o,e,i,t.getUint32(56,!0),15,2878612391),i=h(i,u,o,e,t.getUint32(20,!0),21,4237533241),e=h(e,i,u,o,t.getUint32(48,!0),6,1700485571),o=h(o,e,i,u,t.getUint32(12,!0),10,2399980690),u=h(u,o,e,i,t.getUint32(40,!0),15,4293915773),i=h(i,u,o,e,t.getUint32(4,!0),21,2240044497),e=h(e,i,u,o,t.getUint32(32,!0),6,1873313359),o=h(o,e,i,u,t.getUint32(60,!0),10,4264355552),u=h(u,o,e,i,t.getUint32(24,!0),15,2734768916),i=h(i,u,o,e,t.getUint32(52,!0),21,1309151649),e=h(e,i,u,o,t.getUint32(16,!0),6,4149444226),o=h(o,e,i,u,t.getUint32(44,!0),10,3174756917),u=h(u,o,e,i,t.getUint32(8,!0),15,718787259),i=h(i,u,o,e,t.getUint32(36,!0),21,3951481745),r[0]=e+r[0]&4294967295,r[1]=i+r[1]&4294967295,r[2]=u+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(r),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function i(t,r,e,i,n,s){return((r=(r+t&4294967295)+(i+s&4294967295)&4294967295)<<n|r>>>32-n)+e&4294967295}function n(t,r,e,n,s,f,h){return i(r&e|~r&n,t,r,s,f,h)}function s(t,r,e,n,s,f,h){return i(r&n|e&~n,t,r,s,f,h)}function f(t,r,e,n,s,f,h){return i(r^e^n,t,r,s,f,h)}function h(t,r,e,n,s,f,h){return i(e^(r|~n),t,r,s,f,h)}export{e as M};
